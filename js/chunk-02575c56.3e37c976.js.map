{"version":3,"sources":["webpack:///./src/views/ShoppingCar.vue?dbe4","webpack:///./src/views/ShoppingCar.vue?cbf9","webpack:///./src/components/ShoppingCard.vue?e5bf","webpack:///src/components/ShoppingCard.vue","webpack:///./src/components/ShoppingCard.vue?bd5a","webpack:///./src/components/ShoppingCard.vue","webpack:///src/views/ShoppingCar.vue","webpack:///./src/views/ShoppingCar.vue?4ffc","webpack:///./src/views/ShoppingCar.vue","webpack:///./src/components/ShoppingCard.vue?6db0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","deleteSelected","list","length","_l","c","index","key","attrs","isSelected","_e","$store","state","sumMoney","staticRenderFns","model","value","callback","$$v","selected","expression","dataInfo","number","price_off","price","desc","title","imgUrl","scopedSlots","_u","fn","_s","proxy","data","props","created","JSON","parse","localStorage","getItem","info","commit","$emit","computed","images","watch","newVal","$bus","component","seletedList","Object","keys","mounted","$on","popArr","methods","forEach","val","item","id","push","$dialog","confirm","message","components","ShoppingCard"],"mappings":"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","file":"js/chunk-02575c56.3e37c976.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShoppingCar.vue?vue&type=style&index=0&id=05b85fee&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shopping-car\"},[_c('h1',{staticClass:\"header\"},[_vm._v(\"购物车\")]),_c('div',{staticClass:\"delete\",on:{\"click\":_vm.deleteSelected}},[_vm._v(\"删除已选\")]),(this.list.length > 0)?_c('div',{staticClass:\"content\"},_vm._l((this.list),function(c,index){return _c('ShoppingCard',{key:index,attrs:{\"info\":c},on:{\"select\":_vm.isSelected}})}),1):_vm._e(),_c('van-submit-bar',{staticClass:\"submit-bar\",attrs:{\"price\":this.$store.state.sumMoney * 100,\"button-text\":\"提交订单\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shopping-card\"},[_c('van-checkbox',{staticClass:\"checkbox\",model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c('van-card',{attrs:{\"num\":_vm.dataInfo.number,\"price\":_vm.dataInfo.price_off || _vm.dataInfo.price,\"desc\":_vm.dataInfo.desc,\"title\":_vm.dataInfo.title,\"thumb\":this.imgUrl},scopedSlots:_vm._u([{key:\"tags\",fn:function(){return _vm._l((_vm.dataInfo.tags),function(c,index){return _c('van-tag',{key:index,attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(\" \"+_vm._s(c))])})},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"shopping-card\">\n    <van-checkbox v-model=\"selected\" class=\"checkbox\"></van-checkbox>\n    <van-card\n      :num=\"dataInfo.number\"\n      :price=\"dataInfo.price_off || dataInfo.price\"\n      :desc=\"dataInfo.desc\"\n      :title=\"dataInfo.title\"\n      :thumb=\"this.imgUrl\"\n    >\n      <template #tags>\n        <van-tag\n          plain\n          type=\"danger\"\n          v-for=\"(c, index) in dataInfo.tags\"\n          :key=\"index\"\n        >\n          {{ c }}</van-tag\n        >\n      </template>\n    </van-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      dataInfo: {},\n      selected: true,\n    };\n  },\n  props: ['info'],\n  created() {\n    this.dataInfo = JSON.parse(localStorage.getItem(this.info));\n    if (this.dataInfo.price_off && this.selected) {\n      this.$store.commit('addMoney', this.dataInfo.price_off * this.number);\n    } else if (this.dataInfo.price && this.selected) {\n      this.$store.commit('addMoney', this.dataInfo.price * this.number);\n    }\n    this.$emit('select', this.info);\n  },\n  computed: {\n    imgUrl() {\n      return this.dataInfo.images[0];\n    },\n    number() {\n      return this.dataInfo.number;\n    },\n  },\n  watch: {\n    selected(newVal) {\n      if (!newVal) {\n        // 不选中\n        this.$bus.$emit('popArr', this.info);\n      }\n      if (newVal) {\n        this.$emit('select', this.info);\n      } else {\n        this.$emit('select', '');\n      }\n      if (!newVal) {\n        if (this.dataInfo.price_off) {\n          this.$store.commit('popMoney', this.dataInfo.price_off * this.number);\n        } else {\n          this.$store.commit('popMoney', this.dataInfo.price * this.number);\n        }\n      } else if (this.dataInfo.price_off) {\n        this.$store.commit('addMoney', this.dataInfo.price_off * this.number);\n      } else {\n        this.$store.commit('addMoney', this.dataInfo.price * this.number);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.shopping-card {\n  position: relative;\n  padding-left: 40px;\n  border: 1px solid #eee;\n  box-sizing: border-box;\n  .checkbox {\n    position: absolute;\n    top: 50%;\n    left: 10px;\n    transform: translateY(-50%);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShoppingCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShoppingCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShoppingCard.vue?vue&type=template&id=3e31f0b5&scoped=true&\"\nimport script from \"./ShoppingCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ShoppingCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShoppingCard.vue?vue&type=style&index=0&id=3e31f0b5&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e31f0b5\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"shopping-car\">\n    <h1 class=\"header\">购物车</h1>\n    <div class=\"delete\" @click=\"deleteSelected\">删除已选</div>\n    <div class=\"content\" v-if=\"this.list.length > 0\">\n      <ShoppingCard\n        v-for=\"(c, index) in this.list\"\n        :key=\"index\"\n        :info=\"c\"\n        @select=\"isSelected\"\n      />\n    </div>\n    <van-submit-bar\n      :price=\"this.$store.state.sumMoney * 100\"\n      button-text=\"提交订单\"\n      class=\"submit-bar\"\n    />\n  </div>\n</template>\n<script>\n\nimport ShoppingCard from '../components/ShoppingCard.vue';\n\nexport default {\n  data() {\n    return {\n      list: {},\n      seletedList: [],\n    };\n  },\n  created() {\n    this.list = Object.keys(JSON.parse(localStorage.getItem('list')));\n    this.$store.commit('resetMoney');\n  },\n  mounted() {\n    this.$bus.$on('popArr', this.popArr);\n  },\n  methods: {\n    popArr(val) {\n      this.seletedList.forEach((item) => {\n        const value = item;\n        if (val === item.id) {\n          value.id = null;\n        }\n      });\n    },\n    isSelected(val) {\n      if (!val) {\n        return;\n      }\n      this.seletedList.push({ id: val });\n    },\n    deleteSelected() {\n      this.$dialog.confirm({\n        title: '删除商品',\n        message: '确认删除选中商品吗？',\n      })\n        .then(() => {\n          const dataArr = Object.keys(this.seletedList);\n          dataArr.forEach((item) => {\n            if (this.seletedList[item].id) {\n              const { number } = JSON.parse(localStorage.getItem(this.seletedList[item].id));\n              localStorage.setItem('sum', localStorage.getItem('sum') * 1 - number);\n              const list = JSON.parse(localStorage.getItem('list'));\n              this.$delete(list, this.seletedList[item].id);\n              localStorage.setItem('list', JSON.stringify(list));\n              localStorage.removeItem(this.seletedList[item].id);\n            }\n          });\n          window.location.reload();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  components: {\n    ShoppingCard,\n  },\n  computed: {\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.shopping-car {\n  width: 375px;\n  height: 617px;\n  .header {\n    position: fixed;\n    top: 0;\n    width: 100%;\n    height: 50px;\n    text-align: center;\n    line-height: 50px;\n    z-index: 10;\n    background-color: #fff;\n  }\n  .delete {\n    width: 60px;\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n    z-index: 12;\n    position: absolute;\n    color: rgb(119, 144, 255);\n  }\n  .content {\n    position: absolute;\n    width: 100%;\n    height: 527px;\n    top: 50px;\n    overflow: auto;\n  }\n  .submit-bar {\n    position: fixed;\n    bottom: 50px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShoppingCar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShoppingCar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShoppingCar.vue?vue&type=template&id=05b85fee&scoped=true&\"\nimport script from \"./ShoppingCar.vue?vue&type=script&lang=js&\"\nexport * from \"./ShoppingCar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShoppingCar.vue?vue&type=style&index=0&id=05b85fee&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05b85fee\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShoppingCard.vue?vue&type=style&index=0&id=3e31f0b5&lang=less&scoped=true&\""],"sourceRoot":""}