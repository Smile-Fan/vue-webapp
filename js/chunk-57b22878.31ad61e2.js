(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57b22878"],{"0929":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classify"},[i("SearchBtn"),i("ClassifyTab",{on:{navdata:t.renderNav}}),i("div",{staticClass:"content"},[i("div",{staticClass:"left"},[i("NavList",{attrs:{listData:this.navlist},on:{data:t.fliterData}})],1),i("div",{ref:"content",staticClass:"right",on:{scroll:t.getMore}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"sortBar"},[i("div",{staticClass:"sortText",class:{active:"price-up"===t.sort},on:{touchend:function(e){return t.changeType("price-up")}}},[t._v(" 价格升序 ")]),i("div",{staticClass:"sortText",class:{active:"price-down"===t.sort},on:{touchend:function(e){return t.changeType("price-down")}}},[t._v(" 价格降序 ")]),i("div",{staticClass:"sortText",class:{active:"sale"===t.sort},on:{touchend:function(e){return t.changeType("sale")}}},[t._v(" 销量 ")]),i("div",{staticClass:"sortText",class:{active:"all"===t.sort},on:{touchend:function(e){return t.changeType("all")}}},[t._v(" 综合 ")])]),t._l(this.prolist,(function(t,e){return i("CardContent",{key:e,attrs:{dataInfo:t}})})),i("van-empty",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}],attrs:{description:"暂时没有数据~~"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"no-data"},[t._v(" "+t._s(this.more?"加载中...":"没有更多了")+" ")])],2)])],1)},r=[];function s(t){if(Array.isArray(t))return t}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function a(t,e){var i=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,s=[],a=!0,c=!1;try{for(i=i.call(t);!(a=(n=i.next()).done);a=!0)if(s.push(n.value),e&&s.length===e)break}catch(o){c=!0,r=o}finally{try{a||null==i["return"]||i["return"]()}finally{if(c)throw r}}return s}}i("fb6a"),i("b0c0"),i("a630");function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function o(t,e){if(t){if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){return s(t)||a(t,e)||o(t,e)||u()}var f=i("1da1"),m=(i("4e82"),i("159b"),i("b64b"),i("96cf"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-bar"},[i("van-search",{staticClass:"search-btn",attrs:{placeholder:"超甜大西瓜1.9一斤",shape:"round"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)}),p=[],d={data:function(){return{value:""}}},g=d,h=(i("8d49"),i("2877")),b=Object(h["a"])(g,m,p,!1,null,"764689f3",null),v=b.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classify-tab"},t._l(t.menuList,(function(e,n){return i("cardItem",{key:n,staticClass:"item",attrs:{src:e.imgURL,text:e.title,index:n,active:t.flag===n},on:{click:t.changeActive}})})),1)},j=[],k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-item",on:{click:t.handelClick}},[i("van-image",{staticClass:"image",class:this.active?"active":"",attrs:{round:"",src:t.src,width:"60px",height:"60px"}}),i("span",{staticClass:"text",class:this.active?"active-text":""},[t._v(t._s(this.text))])],1)},x=[],w={props:["src","text","index","active"],methods:{handelClick:function(){var t={index:this.index,text:this.text};this.$emit("click",t)}}},O=w,_=(i("55b4"),Object(h["a"])(O,k,x,!1,null,"65c0a58a",null)),L=_.exports,R=i("0c6d"),C={data:function(){return{flag:0,menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},components:{cardItem:L},computed:{},methods:{changeActive:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(R["b"])(t.text).then((function(t){return t}));case 2:n=i.sent,e.$emit("navdata",n),e.flag=t.index;case 5:case"end":return i.stop()}}),i)})))()}}},S=C,$=(i("b51b"),Object(h["a"])(S,y,j,!1,null,"49c4473e",null)),I=$.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"NavList"},t._l(t.listData,(function(e,n){return i("div",{key:n,staticClass:"title",class:t.active===n?"active":"",on:{click:function(i){return t.handleClick(n,e)}}},[t._v(" "+t._s(0===n?"全部":e)+" ")])})),0)},N=[],A={props:["listData"],data:function(){return{active:0}},watch:{listData:function(){this.active=0}},methods:{handleClick:function(t,e){var i=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i.active=t,n.next=3,Object(R["a"])({type:e}).then((function(t){return t}));case 3:r=n.sent,i.$emit("data",{data:r,c:e});case 5:case"end":return n.stop()}}),n)})))()}}},T=A,z=(i("a1a6"),Object(h["a"])(T,U,N,!1,null,"b3ac9254",null)),E=z.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-content"},[i("van-card",{attrs:{price:t.info.price_off||t.info.price,"origin-price":t.info.price_off?t.info.price:null,desc:t.info.desc,title:t.info.title,thumb:t.imgUrl},scopedSlots:t._u([{key:"num",fn:function(){return[i("span",{staticClass:"inventory sum"},[t._v("库存 "+t._s(t.info.inventory)+" 件")]),i("span",{staticClass:"sale sum"},[t._v("销量 "+t._s(t.info.sale>=1e4?Math.floor(t.info.sale/1e4)+"万+":t.info.sale)+" ")])]},proxy:!0},{key:"tags",fn:function(){return t._l(t.info.tags,(function(e,n){return i("van-tag",{key:n,attrs:{plain:"",type:"danger"}},[t._v(t._s(e))])}))},proxy:!0},{key:"footer",fn:function(){return[i("van-button",{attrs:{size:"mini",round:"",disabled:0===t.info.number},on:{click:t.popNum}},[t._v("-")]),t._v(" "+t._s(t.info.number)+" "),i("van-button",{attrs:{size:"mini",round:"",disabled:t.info.number===t.info.inventory},on:{click:t.addNum}},[t._v("+")])]},proxy:!0}])})],1)},D=[],M=i("5530"),B=i("4360"),H={data:function(){return{info:[],numTip:null}},props:["dataInfo"],created:function(){if(localStorage.getItem(this.dataInfo.id)){var t=JSON.parse(localStorage.getItem(this.dataInfo.id));this.info=Object(M["a"])(Object(M["a"])({},this.dataInfo),{},{number:t.number})}else this.info=Object(M["a"])(Object(M["a"])({},this.dataInfo),{},{number:0})},watch:{dataInfo:function(t){if(localStorage.getItem(t.id)){var e=JSON.parse(localStorage.getItem(t.id));this.info=Object(M["a"])(Object(M["a"])({},t),{},{number:e.number})}else this.info=Object(M["a"])(Object(M["a"])({},t),{},{number:0})}},computed:{imgUrl:function(){return this.info.images[0]}},methods:{addNum:function(){this.info.number+=1,this.$store.commit("add"),localStorage.getItem("sum")&&localStorage.setItem("sum",B["a"].state.shoppingNum);var t=JSON.stringify(Object(M["a"])(Object(M["a"])({},this.info),{},{number:this.info.number}));localStorage.setItem(this.info.id,t),this.$store.commit("addList",this.info.id),localStorage.setItem("list",JSON.stringify(B["a"].state.shoppingList)),localStorage.setItem("sum",B["a"].state.shoppingNum),this.$bus.$emit("handelRefresh")},popNum:function(){if(this.info.number-=1,this.$store.commit("pop"),localStorage.setItem("sum",B["a"].state.shoppingNum),0===this.info.number)localStorage.removeItem(this.info.id),this.$store.commit("removeList",this.info.id),localStorage.setItem("list",JSON.stringify(B["a"].state.shoppingList));else{var t=JSON.stringify(Object(M["a"])(Object(M["a"])({},this.info),{},{number:this.info.number}));localStorage.setItem(this.info.id,t)}this.$bus.$emit("handelRefresh"),this.$bus.$emit("refreshBuy")}}},F=H,q=(i("7341"),Object(h["a"])(F,J,D,!1,null,"1078d9e1",null)),G=q.exports,K={data:function(){return{type:"2",page:1,sort:"all",navlist:[],prolist:[],moreList:[],more:!0,flag:!0,size:10,clock:!0}},components:{SearchBtn:v,ClassifyTab:I,NavList:E,CardContent:G},created:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("startList"),e.next=3,Object(R["b"])("时令水果").then((function(t){return t}));case 3:return t.navlist=e.sent,e.next=6,Object(R["a"])({type:2}).then((function(t){return t.list}));case 6:t.prolist=e.sent;case 7:case"end":return e.stop()}}),e)})))()},methods:{getMore:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.moreList.total!==t.prolist.length&&(t.more=!0),!(t.$refs.content.scrollTop+t.$refs.content.offsetHeight>=t.$refs.content.scrollHeight-150&&t.more&&t.clock)){e.next=10;break}return t.clock=!1,t.page+=1,e.next=6,Object(R["a"])({sort:t.sort,type:t.type,page:t.page}).then((function(t){return t}));case 6:t.moreList=e.sent,Object.keys(t.moreList.list).forEach((function(e){t.prolist.push(t.moreList.list[e])})),0===t.moreList.list.length?(t.more=!1,t.size=t.prolist.length):(t.more=!0,t.size=t.prolist.length),t.clock=!0;case 10:case"end":return e.stop()}}),e)})))()},changeType:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.prolist=[],e.sort=t,i.next=4,Object(R["a"])({sort:t,type:e.type,size:e.size}).then((function(t){return t.list}));case 4:e.prolist=i.sent;case 5:case"end":return i.stop()}}),i)})))()},fliterData:function(t){this.prolist=[],this.page=1,this.type=t.c,this.prolist=t.data.list,0===this.prolist.length?this.flag=!1:this.flag=!0},renderNav:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function i(){var n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.prolist=[],e.clock=!0,e.more=!0,n=l(t,1),r=n[0],e.type=r,t!==e.navlist){i.next=7;break}return i.abrupt("return");case 7:return i.next=9,Object(R["a"])({type:t[0],sort:e.sort,size:e.size}).then((function(t){return t.list}));case 9:e.prolist=i.sent,e.navlist=t;case 11:case"end":return i.stop()}}),i)})))()}}},P=K,Q=(i("3ffa"),Object(h["a"])(P,n,r,!1,null,"7d8c1438",null));e["default"]=Q.exports},1226:function(t,e,i){},"3c66":function(t,e,i){},"3ffa":function(t,e,i){"use strict";i("3c66")},"4df4":function(t,e,i){"use strict";var n=i("0366"),r=i("7b0b"),s=i("9bdd"),a=i("e95a"),c=i("50c4"),o=i("8418"),u=i("35a1");t.exports=function(t){var e,i,l,f,m,p,d=r(t),g="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,v=void 0!==b,y=u(d),j=0;if(v&&(b=n(b,h>2?arguments[2]:void 0,2)),void 0==y||g==Array&&a(y))for(e=c(d.length),i=new g(e);e>j;j++)p=v?b(d[j],j):d[j],o(i,j,p);else for(f=y.call(d),m=f.next,i=new g;!(l=m.call(f)).done;j++)p=v?s(f,b,[l.value,j],!0):l.value,o(i,j,p);return i.length=j,i}},"55b4":function(t,e,i){"use strict";i("f76c")},"727a":function(t,e,i){},7341:function(t,e,i){"use strict";i("f5e0")},"8d49":function(t,e,i){"use strict";i("727a")},"9bdd":function(t,e,i){var n=i("825a"),r=i("2a62");t.exports=function(t,e,i,s){try{return s?e(n(i)[0],i[1]):e(i)}catch(a){throw r(t),a}}},a1a6:function(t,e,i){"use strict";i("1226")},a630:function(t,e,i){var n=i("23e7"),r=i("4df4"),s=i("1c7e"),a=!s((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:a},{from:r})},b0c0:function(t,e,i){var n=i("83ab"),r=i("9bf2").f,s=Function.prototype,a=s.toString,c=/^\s*function ([^ (]*)/,o="name";n&&!(o in s)&&r(s,o,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},b51b:function(t,e,i){"use strict";i("d8df")},d28b:function(t,e,i){var n=i("746f");n("iterator")},d8df:function(t,e,i){},e01a:function(t,e,i){"use strict";var n=i("23e7"),r=i("83ab"),s=i("da84"),a=i("5135"),c=i("861d"),o=i("9bf2").f,u=i("e893"),l=s.Symbol;if(r&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof m?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};u(m,l);var p=m.prototype=l.prototype;p.constructor=m;var d=p.toString,g="Symbol(test)"==String(l("test")),h=/^Symbol\((.*)\)[^)]+$/;o(p,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=d.call(t);if(a(f,t))return"";var i=g?e.slice(7,-1):e.replace(h,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:m})}},f5e0:function(t,e,i){},f76c:function(t,e,i){},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("861d"),s=i("e8b5"),a=i("23cb"),c=i("50c4"),o=i("fc6a"),u=i("8418"),l=i("b622"),f=i("1dde"),m=f("slice"),p=l("species"),d=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!m},{slice:function(t,e){var i,n,l,f=o(this),m=c(f.length),h=a(t,m),b=a(void 0===e?m:e,m);if(s(f)&&(i=f.constructor,"function"!=typeof i||i!==Array&&!s(i.prototype)?r(i)&&(i=i[p],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return d.call(f,h,b);for(n=new(void 0===i?Array:i)(g(b-h,0)),l=0;h<b;h++,l++)h in f&&u(n,l,f[h]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-57b22878.31ad61e2.js.map