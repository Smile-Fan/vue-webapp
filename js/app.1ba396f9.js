(function(t){function e(e){for(var i,r,o=e[0],c=e[1],u=e[2],f=0,p=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0ad5":function(t,e,n){"use strict";n("9d1b")},1226:function(t,e,n){},"14dc":function(t,e,n){"use strict";n("22c6")},"19a9":function(t,e,n){},"22c6":function(t,e,n){},2395:function(t,e,n){},"3c66":function(t,e,n){},"3f3a":function(t,e,n){},"3ffa":function(t,e,n){"use strict";n("3c66")},"55b4":function(t,e,n){"use strict";n("f76c")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=n("b970"),a=(n("499a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("BottomBar",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}]})],1)}),r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-bar"},[n("van-tabbar",{attrs:{fixed:"",route:""}},t._l(t.list,(function(e,i){return n("van-tabbar-item",{key:i,attrs:{to:e.router,icon:e.icon,badge:"购物车"===e.name?t.num:""}},[t._v(t._s(e.name))])})),1)],1)},c=[],u={data:function(){return{num:0,list:[{name:"首页",icon:"home-o",badge:"",router:"/"},{name:"分类",icon:"apps-o",badge:"",router:"/Classify"},{name:"购物车",icon:"cart-o",badge:"",router:"/ShoppingCar"},{name:"我的",icon:"user-circle-o",badge:"",router:"/MyInfo"}]}},created:function(){console.log(localStorage.getItem("sum")),1*localStorage.getItem("sum")!==0&&(this.$store.commit("add",1*localStorage.getItem("sum")),this.refresh())},mounted:function(){this.$bus.$on("handelRefresh",this.refresh)},computed:{},methods:{refresh:function(){this.num=localStorage.getItem("sum")}}},l=u,f=n("2877"),p=Object(f["a"])(l,o,c,!1,null,null,null),m=p.exports,d=n("5530"),h=n("2f62"),g=(n("4fad"),n("a78e")),b=n.n(g);function v(t){for(var e=Object.entries(t),n=0;n<e.length;n+=1)b.a.set(e[n][0],e[n][1]);return t}function y(){return{username:b.a.get("username"),appkey:b.a.get("appkey"),role:b.a.get("role"),email:b.a.get("email")}}function j(){return{username:b.a.remove("username"),appkey:b.a.remove("appkey"),role:b.a.remove("role"),email:b.a.remove("email")}}i["a"].use(h["a"]);var k=new h["a"].Store({state:{userInfo:y(),shoppingNum:0,shoppingList:{},sumMoney:0},mutations:{startList:function(t){t.shoppingList=Object(d["a"])({},JSON.parse(localStorage.getItem("list")))},addMoney:function(t,e){t.sumMoney+=e},popMoney:function(t,e){t.sumMoney-=e},resetMoney:function(t){t.sumMoney=0},add:function(t,e){t.shoppingNum+=e||1},pop:function(t){t.shoppingNum-1<0||(t.shoppingNum-=1)},addList:function(t,e){i["a"].set(t.shoppingList,"".concat(e),"".concat(e))},removeList:function(t,e){i["a"].delete(t.shoppingList,e)},userSetCookie:function(t,e){t.userInfo=e},userDelCookie:function(t,e){t.userInfo=e}},actions:{setUserInfo:function(t,e){var n=t.commit;n("userSetCookie",e),v(e)},delUserInfo:function(t){var e=t.commit;e("userDelCookie",j())}},modules:{}}),_={data:function(){return{}},computed:{flag:function(){return k.state.userInfo.appkey}},components:{BottomBar:m}},x=_,w=(n("7c55"),Object(f["a"])(x,a,r,!1,null,null,null)),I=w.exports,O=n("8c4f"),S=n("bb51"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("van-form",{on:{submit:t.onSubmit}},[n("van-field",{attrs:{name:"email",label:"邮箱",placeholder:"邮箱",rules:[{required:!0,message:"请填写邮箱"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},L=[],$=n("1da1"),R=(n("96cf"),n("d3b7"),n("4e82"),n("bc3a")),N=n.n(R),U=(n("caad"),n("2532"),N.a.create());U.defaults.baseURL="https://mallapi.duyiedu.com/goods/",U.interceptors.request.use((function(t){return t.url.includes("/passport")?t:Object(d["a"])(Object(d["a"])({},t),{},{params:Object(d["a"])(Object(d["a"])({},t.params),{},{appkey:k.state.userInfo.appkey})})}),(function(t){Promise.project(t)})),U.interceptors.response.use((function(t){var e=t.data;return"success"===e.status&&"登陆成功"===e.msg&&v(e.data),e}));var M=U;function E(t){return T.apply(this,arguments)}function T(){return T=Object($["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.get("/getsidebar",{params:{type:e}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function J(t){return z.apply(this,arguments)}function z(){return z=Object($["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.get("/getGoodsList",{params:{type:e.type,page:e.page||1,size:e.size||10,sort:e.sort||"all"}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),z.apply(this,arguments)}function P(t,e){return B.apply(this,arguments)}function B(){return B=Object($["a"])(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.a.post("https://mallapi.duyiedu.com/passport/login",{email:e,password:n});case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}var D={data:function(){return{username:"",password:""}},methods:{onSubmit:function(t){var e=this;return Object($["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,P(t.email,t.password).then((function(t){return t.data}));case 2:i=n.sent,"success"===i.status&&e.$store.dispatch("setUserInfo",i.data).then((function(){e.$router.push("/Classify")}),(function(t){Promise.reject(t)}));case 4:case"end":return n.stop()}}),n)})))()}}},A=D,q=(n("fe76"),Object(f["a"])(A,C,L,!1,null,"6e4f29d0",null)),H=q.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"classify"},[n("SearchBtn"),n("ClassifyTab",{on:{navdata:t.renderNav}}),n("div",{staticClass:"content"},[n("div",{staticClass:"left"},[n("NavList",{attrs:{listData:this.navlist},on:{data:t.fliterData}})],1),n("div",{ref:"content",staticClass:"right",on:{scroll:t.getMore}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"sortBar"},[n("div",{staticClass:"sortText",class:{active:"price-up"===t.sort},on:{touchend:function(e){return t.changeType("price-up")}}},[t._v(" 价格升序 ")]),n("div",{staticClass:"sortText",class:{active:"price-down"===t.sort},on:{touchend:function(e){return t.changeType("price-down")}}},[t._v(" 价格降序 ")]),n("div",{staticClass:"sortText",class:{active:"sale"===t.sort},on:{touchend:function(e){return t.changeType("sale")}}},[t._v(" 销量 ")]),n("div",{staticClass:"sortText",class:{active:"all"===t.sort},on:{touchend:function(e){return t.changeType("all")}}},[t._v(" 综合 ")])]),t._l(this.prolist,(function(t,e){return n("CardContent",{key:e,attrs:{dataInfo:t}})})),n("van-empty",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}],attrs:{description:"暂时没有数据~~"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"no-data"},[t._v(" "+t._s(this.more?"加载中...":"没有更多了")+" ")])],2)])],1)},V=[],F=n("3835"),K=(n("159b"),n("b64b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-bar"},[n("van-search",{staticClass:"search-btn",attrs:{placeholder:"超甜大西瓜1.9一斤",shape:"round"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)}),Q=[],W={data:function(){return{value:""}}},X=W,Y=(n("8d49"),Object(f["a"])(X,K,Q,!1,null,"764689f3",null)),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"classify-tab"},t._l(t.menuList,(function(e,i){return n("cardItem",{key:i,staticClass:"item",attrs:{src:e.imgURL,text:e.title,index:i,active:t.flag===i},on:{click:t.changeActive}})})),1)},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-item",on:{click:t.handelClick}},[n("van-image",{staticClass:"image",class:this.active?"active":"",attrs:{round:"",src:t.src,width:"60px",height:"60px"}}),n("span",{staticClass:"text",class:this.active?"active-text":""},[t._v(t._s(this.text))])],1)},it=[],st={props:["src","text","index","active"],methods:{handelClick:function(){var t={index:this.index,text:this.text};this.$emit("click",t)}}},at=st,rt=(n("55b4"),Object(f["a"])(at,nt,it,!1,null,"65c0a58a",null)),ot=rt.exports,ct={data:function(){return{flag:0,menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},components:{cardItem:ot},computed:{},methods:{changeActive:function(t){var e=this;return Object($["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,E(t.text).then((function(t){return t}));case 2:i=n.sent,e.$emit("navdata",i),e.flag=t.index;case 5:case"end":return n.stop()}}),n)})))()}}},ut=ct,lt=(n("b51b"),Object(f["a"])(ut,tt,et,!1,null,"49c4473e",null)),ft=lt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"NavList"},t._l(t.listData,(function(e,i){return n("div",{key:i,staticClass:"title",class:t.active===i?"active":"",on:{click:function(n){return t.handleClick(i,e)}}},[t._v(" "+t._s(0===i?"全部":e)+" ")])})),0)},mt=[],dt={props:["listData"],data:function(){return{active:0}},watch:{listData:function(){this.active=0}},methods:{handleClick:function(t,e){var n=this;return Object($["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n.active=t,i.next=3,J({type:e}).then((function(t){return t}));case 3:s=i.sent,n.$emit("data",{data:s,c:e});case 5:case"end":return i.stop()}}),i)})))()}}},ht=dt,gt=(n("a1a6"),Object(f["a"])(ht,pt,mt,!1,null,"b3ac9254",null)),bt=gt.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-content"},[n("van-card",{attrs:{price:t.info.price_off||t.info.price,"origin-price":t.info.price_off?t.info.price:null,desc:t.info.desc,title:t.info.title,thumb:t.imgUrl},scopedSlots:t._u([{key:"num",fn:function(){return[n("span",{staticClass:"inventory sum"},[t._v("库存 "+t._s(t.info.inventory)+" 件")]),n("span",{staticClass:"sale sum"},[t._v("销量 "+t._s(t.info.sale>=1e4?Math.floor(t.info.sale/1e4)+"万+":t.info.sale)+" ")])]},proxy:!0},{key:"tags",fn:function(){return t._l(t.info.tags,(function(e,i){return n("van-tag",{key:i,attrs:{plain:"",type:"danger"}},[t._v(t._s(e))])}))},proxy:!0},{key:"footer",fn:function(){return[n("van-button",{attrs:{size:"mini",round:"",disabled:0===t.info.number},on:{click:t.popNum}},[t._v("-")]),t._v(" "+t._s(t.info.number)+" "),n("van-button",{attrs:{size:"mini",round:"",disabled:t.info.number===t.info.inventory},on:{click:t.addNum}},[t._v("+")])]},proxy:!0}])})],1)},yt=[],jt={data:function(){return{info:[],numTip:null}},props:["dataInfo"],created:function(){if(localStorage.getItem(this.dataInfo.id)){var t=JSON.parse(localStorage.getItem(this.dataInfo.id));this.info=Object(d["a"])(Object(d["a"])({},this.dataInfo),{},{number:t.number})}else this.info=Object(d["a"])(Object(d["a"])({},this.dataInfo),{},{number:0})},watch:{dataInfo:function(t){if(localStorage.getItem(t.id)){var e=JSON.parse(localStorage.getItem(t.id));this.info=Object(d["a"])(Object(d["a"])({},t),{},{number:e.number})}else this.info=Object(d["a"])(Object(d["a"])({},t),{},{number:0})}},computed:{imgUrl:function(){return this.info.images[0]}},methods:{addNum:function(){this.info.number+=1,this.$store.commit("add"),localStorage.getItem("sum")&&localStorage.setItem("sum",k.state.shoppingNum);var t=JSON.stringify(Object(d["a"])(Object(d["a"])({},this.info),{},{number:this.info.number}));localStorage.setItem(this.info.id,t),this.$store.commit("addList",this.info.id),localStorage.setItem("list",JSON.stringify(k.state.shoppingList)),localStorage.setItem("sum",k.state.shoppingNum),this.$bus.$emit("handelRefresh")},popNum:function(){if(this.info.number-=1,this.$store.commit("pop"),localStorage.setItem("sum",k.state.shoppingNum),0===this.info.number)localStorage.removeItem(this.info.id),this.$store.commit("removeList",this.info.id),localStorage.setItem("list",JSON.stringify(k.state.shoppingList));else{var t=JSON.stringify(Object(d["a"])(Object(d["a"])({},this.info),{},{number:this.info.number}));localStorage.setItem(this.info.id,t)}this.$bus.$emit("handelRefresh"),this.$bus.$emit("refreshBuy")}}},kt=jt,_t=(n("7341"),Object(f["a"])(kt,vt,yt,!1,null,"1078d9e1",null)),xt=_t.exports,wt={data:function(){return{type:"2",page:1,sort:"all",navlist:[],prolist:[],moreList:[],more:!0,flag:!0,size:10,clock:!0}},components:{SearchBtn:Z,ClassifyTab:ft,NavList:bt,CardContent:xt},created:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("startList"),e.next=3,E("时令水果").then((function(t){return t}));case 3:return t.navlist=e.sent,e.next=6,J({type:2}).then((function(t){return t.list}));case 6:t.prolist=e.sent;case 7:case"end":return e.stop()}}),e)})))()},methods:{getMore:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.moreList.total!==t.prolist.length&&(t.more=!0),!(t.$refs.content.scrollTop+t.$refs.content.offsetHeight>=t.$refs.content.scrollHeight-150&&t.more&&t.clock)){e.next=10;break}return t.clock=!1,t.page+=1,e.next=6,J({sort:t.sort,type:t.type,page:t.page}).then((function(t){return t}));case 6:t.moreList=e.sent,Object.keys(t.moreList.list).forEach((function(e){t.prolist.push(t.moreList.list[e])})),0===t.moreList.list.length?(t.more=!1,t.size=t.prolist.length):(t.more=!0,t.size=t.prolist.length),t.clock=!0;case 10:case"end":return e.stop()}}),e)})))()},changeType:function(t){var e=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.prolist=[],e.sort=t,n.next=4,J({sort:t,type:e.type,size:e.size}).then((function(t){return t.list}));case 4:e.prolist=n.sent;case 5:case"end":return n.stop()}}),n)})))()},fliterData:function(t){this.prolist=[],this.page=1,this.type=t.c,this.prolist=t.data.list,0===this.prolist.length?this.flag=!1:this.flag=!0},renderNav:function(t){var e=this;return Object($["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.prolist=[],e.clock=!0,e.more=!0,i=Object(F["a"])(t,1),s=i[0],e.type=s,t!==e.navlist){n.next=7;break}return n.abrupt("return");case 7:return n.next=9,J({type:t[0],sort:e.sort,size:e.size}).then((function(t){return t.list}));case 9:e.prolist=n.sent,e.navlist=t;case 11:case"end":return n.stop()}}),n)})))()}}},It=wt,Ot=(n("3ffa"),Object(f["a"])(It,G,V,!1,null,"7d8c1438",null)),St=Ot.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shopping-car"},[n("h1",{staticClass:"header"},[t._v("购物车")]),n("div",{staticClass:"delete",on:{click:t.deleteSelected}},[t._v("删除已选")]),this.list.length>0?n("div",{staticClass:"content"},t._l(this.list,(function(e,i){return n("ShoppingCard",{key:i,attrs:{info:e},on:{select:t.isSelected}})})),1):t._e(),n("van-submit-bar",{staticClass:"submit-bar",attrs:{price:100*this.$store.state.sumMoney,"button-text":"提交订单"}})],1)},Lt=[],$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shopping-card"},[n("van-checkbox",{staticClass:"checkbox",model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),n("van-card",{attrs:{num:t.dataInfo.number,price:t.dataInfo.price_off||t.dataInfo.price,desc:t.dataInfo.desc,title:t.dataInfo.title,thumb:this.imgUrl},scopedSlots:t._u([{key:"tags",fn:function(){return t._l(t.dataInfo.tags,(function(e,i){return n("van-tag",{key:i,attrs:{plain:"",type:"danger"}},[t._v(" "+t._s(e))])}))},proxy:!0}])})],1)},Rt=[],Nt={data:function(){return{dataInfo:{},selected:!0}},props:["info"],created:function(){this.dataInfo=JSON.parse(localStorage.getItem(this.info)),this.dataInfo.price_off&&this.selected?this.$store.commit("addMoney",this.dataInfo.price_off*this.number):this.dataInfo.price&&this.selected&&this.$store.commit("addMoney",this.dataInfo.price*this.number),this.$emit("select",this.info)},computed:{imgUrl:function(){return this.dataInfo.images[0]},number:function(){return this.dataInfo.number}},watch:{selected:function(t){t||this.$bus.$emit("popArr",this.info),t?this.$emit("select",this.info):this.$emit("select",""),t?this.dataInfo.price_off?this.$store.commit("addMoney",this.dataInfo.price_off*this.number):this.$store.commit("addMoney",this.dataInfo.price*this.number):this.dataInfo.price_off?this.$store.commit("popMoney",this.dataInfo.price_off*this.number):this.$store.commit("popMoney",this.dataInfo.price*this.number)}}},Ut=Nt,Mt=(n("7f21"),Object(f["a"])(Ut,$t,Rt,!1,null,"3e31f0b5",null)),Et=Mt.exports,Tt={data:function(){return{list:{},seletedList:[]}},created:function(){this.list=Object.keys(JSON.parse(localStorage.getItem("list"))),this.$store.commit("resetMoney")},mounted:function(){this.$bus.$on("popArr",this.popArr)},methods:{popArr:function(t){this.seletedList.forEach((function(e){var n=e;t===e.id&&(n.id=null)}))},isSelected:function(t){t&&this.seletedList.push({id:t})},deleteSelected:function(){var t=this;this.$dialog.confirm({title:"删除商品",message:"确认删除选中商品吗？"}).then((function(){var e=Object.keys(t.seletedList);e.forEach((function(e){if(t.seletedList[e].id){var n=JSON.parse(localStorage.getItem(t.seletedList[e].id)),i=n.number;localStorage.setItem("sum",1*localStorage.getItem("sum")-i);var s=JSON.parse(localStorage.getItem("list"));t.$delete(s,t.seletedList[e].id),localStorage.setItem("list",JSON.stringify(s)),localStorage.removeItem(t.seletedList[e].id)}})),window.location.reload()})).catch((function(t){console.log(t)}))}},components:{ShoppingCard:Et},computed:{}},Jt=Tt,zt=(n("0ad5"),Object(f["a"])(Jt,Ct,Lt,!1,null,"05b85fee",null)),Pt=zt.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"myInfo"},[n("van-button",{staticClass:"logout",attrs:{type:"danger",round:""},on:{click:t.logout}},[t._v("退出登录")])],1)},Dt=[],At={methods:{logout:function(){j(),window.location.reload()}}},qt=At,Ht=(n("68c3"),Object(f["a"])(qt,Bt,Dt,!1,null,"ac62dcee",null)),Gt=Ht.exports;i["a"].use(O["a"]);var Vt=[{path:"/",name:"Home",component:S["default"]},{path:"/Classify",name:"Classify",component:St},{path:"/ShoppingCar",name:"ShoppingCar",component:Pt},{path:"/MyInfo",name:"MyInfo",component:Gt},{path:"/Login",name:"Login",component:H}],Ft=new O["a"]({mode:"history",base:"/",routes:Vt});Ft.beforeEach((function(t,e,n){"/Login"===t.path||k.state.userInfo.appkey?n():(alert("请先登陆"),n("/Login"))}));var Kt=Ft;n("157a");i["a"].prototype.$bus=new i["a"]({}),i["a"].use(s["a"]),i["a"].config.productionTip=!1,new i["a"]({router:Kt,store:k,render:function(t){return t(I)}}).$mount("#app")},5893:function(t,e,n){},"68c3":function(t,e,n){"use strict";n("5893")},"727a":function(t,e,n){},7341:function(t,e,n){"use strict";n("f5e0")},"7ad4":function(t,e,n){"use strict";var i=n("9cae"),s=n.n(i);e["default"]=s.a},"7c55":function(t,e,n){"use strict";n("2395")},"7f21":function(t,e,n){"use strict";n("3f3a")},"8d49":function(t,e,n){"use strict";n("727a")},"9cae":function(t,e){},"9d1b":function(t,e,n){},a1a6:function(t,e,n){"use strict";n("1226")},b51b:function(t,e,n){"use strict";n("d8df")},bb51:function(t,e,n){"use strict";var i=n("bb7b"),s=n("7ad4"),a=(n("14dc"),n("2877")),r=Object(a["a"])(s["default"],i["a"],i["b"],!1,null,"3603847c",null);e["default"]=r.exports},bb7b:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),i("h1",[t._v("每日优鲜首页")])])}]},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},d8df:function(t,e,n){},f5e0:function(t,e,n){},f76c:function(t,e,n){},fe76:function(t,e,n){"use strict";n("19a9")}});
//# sourceMappingURL=app.1ba396f9.js.map